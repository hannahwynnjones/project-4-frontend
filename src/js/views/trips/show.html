<h1>Show page</h1>

<div class="row">
  <div class="col-md-6">
    <div class="trip">
      <img ng-src="{{ tripsShow.trip.image_src }}" alt"{{ tripsShow.trip.name }}">
      <h2>{{ tripsShow.trip.name }}</h2>
      <h3>{{ tripsShow.trip.description }}</h3>

<h3>Dates:</h3>
      <h4>{{ trip.date_one | date: 'longDate' }}</h4>


      <h3>{{ tripsShow.trip.date_one }}</h3>
      <h3>{{ tripsShow.trip.date_two }}</h3>
      <h3>{{ tripsShow.trip.date_three }}</h3>


      <div class="col-md-6">
        <div class="airports">
          <h5>Aiports:</h5>
          <ul>
            <li ng-repeat="airports in tripsShow.trip.airports">{{ airports.name }}</li>
          </ul>
        </div>
      </div>

      <p>Created by: <strong>{{ tripsShow.trip.user.username }}</strong></p>

      <button ng-click="tripsShow.toggleAttending()" ng-if="!tripsShow.isAttending() && main.isAuthenticated()">Attend</button>
      <button ng-click="tripsShow.toggleAttending()" ng-if="tripsShow.isAttending() && main.isAuthenticated()">Reject</button>

      <button ui-sref="tripsEdit({id: tripsShow.trip.id})" ng-if="main.isAuthenticated() && main.currentUser.id === tripsShow.trip.user.id">Edit</button>
      <button ng-click="tripsShow.delete()" ng-if="main.isAuthenticated() && main.currentUser.id === tripsShow.trip.user.id">Delete</button>
    </div>
  </div>
  <div class="col-md-6">
    <div class="attendees">
      <h5>Attending</h5>
      <ul>
        <li ng-repeat="attendee in tripsShow.trip.attendees">{{ attendee.username }}</li>
      </ul>
    </div>
  </div>
</div>

<div class="comments">
  <div class="row">
    <div class="col-md-6">
      <h2>Comments</h2>
      <ul>
        <li ng-repeat="comment in tripsShow.trip.comments">{{ comment.body }} - <strong>{{ comment.user.username }}</strong><button ng-click="tripsShow.deleteComment(comment)" ng-if="main.isAuthenticated() && main.currentUser.id === comment.user.id">Delete</button></li>
      </ul>
    </div>
    <div class="col-md-6" ng-if="main.isAuthenticated()">
      <h2>Add Comment</h2>
      <form ng-submit="tripsShow.addComment()">
        <textarea type="text" name="body" ng-model="tripsShow.comment.body"></textarea>
        <button>Create</button>
      </form>
    </div>
  </div>
</div>

{{ tripsShow.trip }}
